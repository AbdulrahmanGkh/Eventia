<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Recovery | Eventia</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="base.css?v=1">
    <link rel="stylesheet" href="auth.css?v=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body class="auth-page">

    <!-- Navigation -->
    <nav class="navbar">
        <div class="container nav-container">
            <a href="index.html" class="logo" id="nav-logo">
                <img src="assets/eventia_logo_new.png" alt="Eventia Logo" class="logo-img">
            </a>
            <div class="nav-links">
                <a href="index.html" class="btn-text">Home</a>
                <a href="signup.html" class="btn btn-primary">Sign Up</a>
            </div>
        </div>
    </nav>

    <!-- MAIN APP CONTAINER -->
    <main class="main-content" style="display: flex; justify-content: center; align-items: center; min-height: 80vh;">

        <!-- Background Decoration -->
        <div class="auth-bg-decor">
            <div class="auth-shape auth-s1"></div>
            <div class="auth-shape auth-s2"></div>
            <div class="auth-shape auth-s3"></div>
        </div>

        <!-- RECOVERY CONTAINER -->
        <div id="password-recovery-container" class="auth-form-container">

            <!-- STEP 1: Forgot Password -->
            <div id="step-1">
                <div class="form-header">
                    <h2>Forgot Password</h2>
                    <p>Enter your email or phone number to receive a recovery code.</p>
                </div>

                <form onsubmit="event.preventDefault(); showStep(2);">
                    <div class="input-group">
                        <label for="recovery-method">Email Address or Phone Number</label>
                        <input type="text" id="recovery-method" placeholder="e.g. user@eventia.com or +123456789"
                            required>
                    </div>

                    <button type="submit" class="btn btn-primary btn-block">
                        Send Recovery Code
                    </button>
                </form>

                <div class="form-footer">
                    <p>Remember your password? <a href="login.html">Log In</a></p>
                </div>
            </div>

            <!-- STEP 2: Verify OTP -->
            <div id="step-2" style="display: none;">
                <div class="form-header">
                    <h2>Verify Code</h2>
                    <p>Enter the 6-digit code sent to your email/phone.</p>
                </div>

                <form onsubmit="event.preventDefault(); showStep(3);">
                    <div class="input-group">
                        <label for="otp-code">Verification Code</label>
                        <input type="text" id="otp-code" placeholder="••••••" maxlength="6" required>
                    </div>

                    <button type="submit" class="btn btn-primary btn-block">
                        Verify Code
                    </button>
                </form>

                <div class="form-footer">
                    <p>Didn't receive a code? <a href="#">Resend Code</a></p>
                    <a href="#" onclick="event.preventDefault(); showStep(1);" class="back-to-home">Back</a>
                </div>
            </div>

            <!-- STEP 3: Reset Password -->
            <div id="step-3" style="display: none;">
                <div class="form-header">
                    <h2>Reset Password</h2>
                    <p>Create a secure new password.</p>
                </div>

                <form onsubmit="event.preventDefault(); showStep(4);">
                    <div class="input-group">
                        <label for="new-password">New Password</label>
                        <input type="password" id="new-password" placeholder="••••••••" required>
                    </div>
                    <div class="input-group">
                        <label for="confirm-password">Confirm Password</label>
                        <input type="password" id="confirm-password" placeholder="••••••••" required>
                    </div>

                    <button type="submit" class="btn btn-primary btn-block">
                        Reset Password
                    </button>
                </form>

                <div class="form-footer">
                    <a href="#" onclick="event.preventDefault(); showStep(2);" class="back-to-home">Back</a>
                </div>
            </div>

            <!-- STEP 4: Success message -->
            <div id="step-4" style="display: none; text-align: center; padding-top: 1rem; padding-bottom: 1rem;">
                <div style="font-size: 4rem; color: #10b981; margin-bottom: 1.5rem;">
                    <i class="fa-regular fa-circle-check"></i>
                </div>

                <div class="form-header" style="margin-bottom: 2rem;">
                    <h2>Password Reset!</h2>
                    <p>Your password has been changed successfully. You can now log in with your new password.</p>
                </div>

                <a href="login.html" class="btn btn-primary btn-block">
                    Go to Log In
                </a>
            </div>

        </div>

    </main>

    <script src="app.js?v=2"></script>
    <script>
        function showStep(stepNumber) {
            // Hide all steps
            for (let i = 1; i <= 4; i++) {
                const el = document.getElementById('step-' + i);
                if (el) el.style.display = 'none';
            }
            // Show target step
            const targetEl = document.getElementById('step-' + stepNumber);
            if (targetEl) targetEl.style.display = 'block';
        }
    </script>
</body>

</html>